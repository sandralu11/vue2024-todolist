import{_ as B,u as N,a as D,r as i,c as v,o as a,b as n,d as e,t as u,w as p,v as O,e as k,F as f,f as m,g as U,n as x,h as z,p as E,i as F}from"./index-CHZcB0I7.js";const M=d=>(E("data-v-68a62c32"),d=d(),F(),d),P={id:"todoListPage",class:"bg-half"},R=M(()=>e("h1",null,[e("a",{href:"#"},"ONLINE TODO LIST")],-1)),q={class:"todo_sm"},X={class:"conatiner todoListPage vhContainer"},j={class:"todoList_Content"},A={class:"inputBox"},G={key:0},H={key:1,class:"todoList_list"},J={class:"todoList_tab"},K=["onClick"],Q={class:"todoList_items"},W={class:"todoList_item"},Y={class:"todoList_label"},Z=["onUpdate:modelValue"],ee=["onClick"],te={class:"todoList_statistics"},se="https://todolist-api.hexschool.io",oe={__name:"TodoView",setup(d){const C=document.cookie.replace(/(?:(?:^|.*;\s*)todolistCookieName\s*\=\s*([^;]*).*$)|^.*$/,"$1"),g=N(),L=D(),y=i({nickname:g.query.name}),b=async()=>{try{const s=await U.post(`${se}/users/sign_out`,{},{headers:{authorization:C}});L.push("/")}catch(s){console.log(s.message)}},r=i(""),o=i([]),T=i([{title:"全部"},{title:"待完成"},{title:"已完成"}]),w=()=>{o.value.push({text:r.value,id:new Date().getTime(),checked:!1}),r.value=""},I=s=>{const l=o.value.findIndex(t=>t.id===s.id);o.value.splice(l,1)},_=i(0),V=v(()=>_.value===1?o.value.filter(s=>s.checked==!1):_.value===2?o.value.filter(s=>s.checked==!0):o.value),S=v(()=>o.value.filter(l=>l.checked==!1).length),h=i(!0),$=v(()=>{if(o.value.length===0)return"目前尚無待辦事項";h.value=!1});return(s,l)=>(a(),n("div",P,[e("nav",null,[R,e("ul",null,[e("li",q,[e("span",null,u(y.value.nickname)+"的代辦",1)]),e("li",null,[e("a",{onClick:b},"登出")])])]),e("div",X,[e("div",j,[e("div",A,[p(e("input",{type:"text",placeholder:"請輸入待辦事項","onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t)},null,512),[[O,r.value]]),e("a",{onClick:w}," + ")]),h.value?(a(),n("div",G,u($.value),1)):k("",!0),h.value?k("",!0):(a(),n("div",H,[e("ul",J,[(a(!0),n(f,null,m(T.value,(t,c)=>(a(),n("li",{key:c,onClick:ae=>_.value=c},[e("a",{class:x({active:_.value===c})},u(t.title),3)],8,K))),128))]),e("div",Q,[e("ul",W,[(a(!0),n(f,null,m(V.value,t=>(a(),n("li",{key:t.id},[e("label",Y,[p(e("input",{class:"todoList_input",type:"checkbox","onUpdate:modelValue":c=>t.checked=c},null,8,Z),[[z,t.checked]]),e("span",{class:x({"text-decoration-line-through":t.checked})},u(t.text),3)]),e("button",{type:"button",onClick:c=>I(t),class:"btn"},"X",8,ee)]))),128))]),e("div",te,[e("p",null,u(S.value)+" 個待完成項目",1)])])]))])])]))}},le=B(oe,[["__scopeId","data-v-68a62c32"]]);export{le as default};
